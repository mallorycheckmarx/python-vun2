## The contents of this file are subject to the Common Public Attribution
## License Version 1.0. (the "License"); you may not use this file except in
## compliance with the License. You may obtain a copy of the License at
## http://code.reddit.com/LICENSE. The License is based on the Mozilla Public
## License Version 1.1, but Sections 14 and 15 have been added to cover use of
## software over a computer network and provide for limited attribution for the
## Original Developer. In addition, Exhibit A has been modified to be consistent
## with Exhibit B.
##
## Software distributed under the License is distributed on an "AS IS" basis,
## WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for
## the specific language governing rights and limitations under the License.
##
## The Original Code is Reddit.
##
## The Original Developer is the Initial Developer.  The Initial Developer of
## the Original Code is CondeNet, Inc.
##
## All portions of the code written by CondeNet are Copyright (c) 2006-2010
## CondeNet, Inc. All Rights Reserved.
################################################################################

<%!
   from r2.models.subreddit import DefaultSR
   from r2.lib.template_helpers import add_sr, static
%>

<%def name="search_faq()">
  <div id="moresearchinfo">
  <p>use the following search parameters to narrow your results:</p>

  <dl>
      <dt>reddit:{name}</dt>
      <dd>${_('find things posted in {name} only')}</dd>
      <dt>author:{username}</dt>
      <dd>${_('return things submitted by {username} only')}</dd>
      <dt>site:{domain}</dt>
      <dd>${_('get links to pages on {domain} only')}</dd>
      <dt>url:{text}</dt>
      <dd>${_('search for {text} in url')}</dd>
      <dt>selftext:{text}</dt>
      <dd>${_('search for {text} in self post contents')}</dd>
      <dt>is_self:{yes|no}</dt>
      <dd>${_('include or exclude self posts')}</dd>
      <dt>over18:{yes|no}</dt>
      <dd>${_('include or exclude results from nsfw reddits')}</dd>
  </dl>

  <p>e.g. <code>reddit:pics site:imgur.com dog</code></p>
  <p><a href="http://www.populr.de/help/search">${_('see the search faq for details.')}</a></p>
  </div>

  <p><a href="http://www.populr.de/help/search" id="search_showmore">${_('advanced search: by author, community...')}</a></p>
</%def>

<div id="cse" style="width: 100%;">Loading</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript"> 
  google.load('search', '1', {language : 'de', style : google.loader.themes.V2_DEFAULT});
  google.setOnLoadCallback(function() {
    var customSearchOptions = {};
    var googleAnalyticsOptions = {};
    googleAnalyticsOptions['queryParameter'] = 'search';
    googleAnalyticsOptions['categoryParameter'] = '';
    customSearchOptions['googleAnalyticsOptions'] = googleAnalyticsOptions;  var customSearchControl = new google.search.CustomSearchControl(
      '014171900623846629857:pqear-nfrhe', customSearchOptions);
    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    var options = new google.search.DrawOptions();
    options.setAutoComplete(true);
    customSearchControl.setAutoCompletionId('014171900623846629857:pqear-nfrhe+qptype:1');
    customSearchControl.draw('cse', options);
  }, true);
</script>

